
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Formularios en Angular &#8212; Libro DWEC</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=dd2cc81e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'formulariosangular';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Proyecto Angular" href="proyectoangular.html" />
    <link rel="prev" title="Rutas en Angular" href="rutasangular.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Libro DWEC - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Libro DWEC - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Desarrollo Web en Entorno Cliente (DWEC)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introducción</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="desarrollofrontend.html">La Web y el Desarrollo Web</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Javascript</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="jsenhtml.html">Javascript en el navegador</a></li>
<li class="toctree-l1"><a class="reference internal" href="lenguajejavascript.html">El lenguaje Javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="arraysobjetosclases.html">Arrays Objetos y clases</a></li>
<li class="toctree-l1"><a class="reference internal" href="dom.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteradores.html">Iteradores</a></li>
<li class="toctree-l1"><a class="reference internal" href="modulos.html">Módulos</a></li>
<li class="toctree-l1"><a class="reference internal" href="promesas.html">Asincronía y Promesas</a></li>
<li class="toctree-l1"><a class="reference internal" href="ajax.html">Comunicación con el servidor</a></li>
<li class="toctree-l1"><a class="reference internal" href="webstorage.html">Almacenamiento en el Lado del Cliente</a></li>
<li class="toctree-l1"><a class="reference internal" href="programacionfuncionalreactiva.html">Programación Funcional, Asíncrona y Reactiva en JavaScript</a></li>



<li class="toctree-l1"><a class="reference internal" href="errores.html">Gestión de Errores</a></li>
<li class="toctree-l1"><a class="reference internal" href="webworkers.html">Web Workers</a></li>
<li class="toctree-l1"><a class="reference internal" href="WebComponents.html">Web Components</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Desarrollo de proyectos fronted</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="supabase.html">Supabase: (Backend como Servicio)</a></li>
<li class="toctree-l1"><a class="reference internal" href="npm.html">NPM</a></li>

<li class="toctree-l1"><a class="reference internal" href="tests.html">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="vite.html">Vite</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci-cd.html">Integración y Despliegue Continuo (CI/CD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="proyectos.html">Proyectos en Javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentacion.html">Documentación en JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="proyectovanilla.html">Proyecto completo en Javascript</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Angular</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="typescript.html">Typescript</a></li>
<li class="toctree-l1"><a class="reference internal" href="angular.html">Introducción a Angular</a></li>
<li class="toctree-l1"><a class="reference internal" href="httpangular.html">Comunicación con el servidor en Angular</a></li>
<li class="toctree-l1"><a class="reference internal" href="rutasangular.html">Rutas en Angular</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Formularios en Angular</a></li>
<li class="toctree-l1"><a class="reference internal" href="proyectoangular.html">Proyecto Angular</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/xxjcaxx/libro_dwec/tree/master" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/xxjcaxx/libro_dwec/tree/master/issues/new?title=Issue%20on%20page%20%2Fformulariosangular.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/formulariosangular.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Formularios en Angular</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-de-plantilla-en-angular">Formularios de Plantilla en Angular</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuracion-de-formularios-basados-en-plantillas">Configuración de Formularios Basados en Plantillas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-ngmodel-y-validadores-html5">Uso de ngModel y Validadores HTML5</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modificar-estilos-al-validar">Modificar Estilos al Validar</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#manipular-la-entrada-del-usuario-en-tiempo-real">Manipular la Entrada del Usuario en Tiempo Real</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ngform-y-directiva-novalidate">ngForm y Directiva noValidate</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mostrar-los-errores-de-validacion">Mostrar los Errores de Validación</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-de-validadores-personalizados">Creación de Validadores Personalizados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enviar-el-formulario">Enviar el Formulario</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-reactivos">Formularios Reactivos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validaciones-sincronas">Validaciones Síncronas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Creación de Validadores Personalizados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#validacion-de-campos-cruzados">Validación de Campos Cruzados</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agrupar-campos">Agrupar Campos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cargar-datos-en-el-formulario">Cargar Datos en el Formulario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-cambios">Detección de Cambios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-dinamicos">Formularios Dinámicos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#signal-forms">Signal Forms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crear-un-formulario-con-signal">Crear un formulario con signal()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validar-formularios-con-signal">Validar formularios con signal()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-avanzados">Modelos avanzados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validadores-personalizados">Validadores personalizados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-form-validation">Cross Form validation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ficheros-en-formularios">Ficheros en Formularios</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="formularios-en-angular">
<h1>Formularios en Angular<a class="headerlink" href="#formularios-en-angular" title="Link to this heading">#</a></h1>
<p>Los formularios son una parte fundamental de cualquier aplicación web, y Angular ofrece tres enfoques principales para manejarlos: formularios reactivos, formularios basados en plantillas y signal Forms.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Característica</p></th>
<th class="head"><p><strong>Signal Forms</strong> (Nuevo/v21+)</p></th>
<th class="head"><p><strong>Formularios Reactivos</strong></p></th>
<th class="head"><p><strong>Basados en Plantillas</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Origen de los datos</strong></p></td>
<td><p>Un modelo de <strong>Signals</strong>.</p></td>
<td><p>Clases de Angular (<code class="docutils literal notranslate"><span class="pre">FormControl</span></code>, <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code>).</p></td>
<td><p>El propio modelo/objeto en el HTML.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Seguridad de tipos</strong></p></td>
<td><p><strong>Máxima</strong>: Se deduce automáticamente de tus Signals.</p></td>
<td><p><strong>Alta</strong>: Requiere definir tipos en los formularios.</p></td>
<td><p><strong>Mínima</strong>: Es propenso a errores de escritura.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Validación</strong></p></td>
<td><p>Basada en <strong>Esquemas</strong> (funciones que siguen rutas).</p></td>
<td><p>Lista de funciones que pasas a cada Control.</p></td>
<td><p>Directivas puestas directamente en el HTML.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Gestión del estado</strong></p></td>
<td><p>Basada en <strong>Signals</strong> (reactividad pura).</p></td>
<td><p>Basada en <strong>Observables</strong> (RxJS).</p></td>
<td><p>Gestionada internamente por Angular.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Configuración</strong></p></td>
<td><p>Signal + Función de esquema.</p></td>
<td><p>Árbol de FormControls en el código.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ngModel</span></code> en el HTML.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Ideal para…</strong></p></td>
<td><p>Apps modernas que buscan <strong>rendimiento extremo</strong>.</p></td>
<td><p>Formularios <strong>complejos</strong> y muy dinámicos.</p></td>
<td><p>Formularios <strong>muy simples</strong> o prototipos rápidos.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Curva de aprendizaje</strong></p></td>
<td><p>Media</p></td>
<td><p>Media - Alta (por RxJS)</p></td>
<td><p>Baja</p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p>Con Angular 21 no se considera ninguno obsoleto pero en proyectos nuevos se deberia usar solo los basados en Signals para poder crear aplicaciones <code class="docutils literal notranslate"><span class="pre">Zoneless</span></code>. Pero la industria es muy diversa y es necesario conocerlos todos, ya que la mayoría de aplicaciones en producción están sobre versiones anteriores al 21.</p>
</div></blockquote>
<section id="formularios-de-plantilla-en-angular">
<h2>Formularios de Plantilla en Angular<a class="headerlink" href="#formularios-de-plantilla-en-angular" title="Link to this heading">#</a></h2>
<p>Usaremos los formularios de plantilla para aquellos que sean muy simples y no requieran una validación o manejo de los datos sofisticados.</p>
<section id="configuracion-de-formularios-basados-en-plantillas">
<h3>Configuración de Formularios Basados en Plantillas<a class="headerlink" href="#configuracion-de-formularios-basados-en-plantillas" title="Link to this heading">#</a></h3>
<p>Para empezar a trabajar con formularios basados en plantillas, necesitamos importar el módulo <code class="docutils literal notranslate"><span class="pre">FormsModule</span></code> en nuestro componente:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormsModule</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="p">...</span>
<span class="w">  </span><span class="nx">imports</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">FormsModule</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// otros módulos</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">...</span>
</pre></div>
</div>
<section id="uso-de-ngmodel-y-validadores-html5">
<h4>Uso de ngModel y Validadores HTML5<a class="headerlink" href="#uso-de-ngmodel-y-validadores-html5" title="Link to this heading">#</a></h4>
<p>Los formularios basados en plantillas en Angular permiten utilizar validadores HTML5 directamente en los elementos <code class="docutils literal notranslate"><span class="pre">input</span></code>. Estos validadores aplican automáticamente clases de estilo dependiendo del estado del formulario.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span>
  <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span>
  <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]=&quot;</span><span class="na">product</span><span class="err">.</span><span class="na">description</span><span class="err">&quot;</span>
  <span class="na">minlength</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
  <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;600&quot;</span>
  <span class="na">required</span>
<span class="p">/&gt;</span>
</pre></div>
</div>
</section>
<section id="modificar-estilos-al-validar">
<h4>Modificar Estilos al Validar<a class="headerlink" href="#modificar-estilos-al-validar" title="Link to this heading">#</a></h4>
<p>Podemos cambiar los estilos de los elementos del formulario en función de su estado de validación utilizando clases CSS personalizadas y la referencia a <code class="docutils literal notranslate"><span class="pre">ngModel</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span>
  <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
  <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span>
  <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]=&quot;</span><span class="na">product</span><span class="err">.</span><span class="na">description</span><span class="err">&quot;</span>
  <span class="na">minlength</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
  <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;600&quot;</span>
  <span class="na">required</span>
  <span class="err">#</span><span class="na">descriptionModel</span><span class="o">=</span><span class="s">&quot;ngModel&quot;</span>
  <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&quot;{</span>
    <span class="err">&#39;</span><span class="na">is-valid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">touched</span> <span class="err">&amp;&amp;</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">valid</span><span class="err">,</span>
    <span class="err">&#39;</span><span class="na">is-invalid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">touched</span> <span class="err">&amp;&amp;</span> <span class="err">!</span><span class="na">descriptionModel</span><span class="err">.</span><span class="na">valid</span>
  <span class="err">}&quot;</span>
<span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>{{ product | json }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Dirty: {{ descriptionModel.dirty }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Valid: {{ descriptionModel.valid }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Value: {{ descriptionModel.value }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Errors: {{ descriptionModel.errors | json }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="manipular-la-entrada-del-usuario-en-tiempo-real">
<h4>Manipular la Entrada del Usuario en Tiempo Real<a class="headerlink" href="#manipular-la-entrada-del-usuario-en-tiempo-real" title="Link to this heading">#</a></h4>
<p>Podemos separar la vinculación del modelo y el evento <code class="docutils literal notranslate"><span class="pre">ngModelChange</span></code> para manipular la entrada del usuario en tiempo real.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span>
  <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span>
  <span class="err">[</span><span class="na">ngModel</span><span class="err">]=&quot;</span><span class="na">product</span><span class="err">.</span><span class="na">description</span><span class="err">&quot;</span>
  <span class="err">(</span><span class="na">ngModelChange</span><span class="err">)=&quot;</span><span class="na">product</span><span class="err">.</span><span class="na">description </span><span class="o">=</span> <span class="s">$event.toUpperCase()&quot;</span>
<span class="p">/&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="ngform-y-directiva-novalidate">
<h3>ngForm y Directiva noValidate<a class="headerlink" href="#ngform-y-directiva-novalidate" title="Link to this heading">#</a></h3>
<p>Por defecto, todos los formularios en Angular tienen la directiva <code class="docutils literal notranslate"><span class="pre">ngForm</span></code>. Podemos hacer una referencia a esta directiva para observar las propiedades generales del formulario. Es recomendable usar la directiva <code class="docutils literal notranslate"><span class="pre">novalidate</span></code> para desactivar la validación del navegador y permitir que Angular gestione la validación.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">productForm</span><span class="o">=</span><span class="s">&quot;ngForm&quot;</span> <span class="na">novalidate</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="err">...</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Touched: {{ productForm.touched }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Valid: {{ productForm.valid }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Value: {{ productForm.value | json }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>Descripción: {{productForm.control.get(&#39;description&#39;).value | json}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<section id="mostrar-los-errores-de-validacion">
<h4>Mostrar los Errores de Validación<a class="headerlink" href="#mostrar-los-errores-de-validacion" title="Link to this heading">#</a></h4>
<p>Podemos combinar estilos de Bootstrap, validación HTML5, <code class="docutils literal notranslate"><span class="pre">ngIf</span></code> y referencias a <code class="docutils literal notranslate"><span class="pre">ngModel</span></code> para mostrar mensajes de error de validación.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">productForm</span><span class="o">=</span><span class="s">&quot;ngForm&quot;</span> <span class="na">novalidate</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
    <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span>
    <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]=&quot;</span><span class="na">product</span><span class="err">.</span><span class="na">description</span><span class="err">&quot;</span>
    <span class="na">minlength</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;600&quot;</span>
    <span class="na">required</span>
    <span class="err">#</span><span class="na">descriptionModel</span><span class="o">=</span><span class="s">&quot;ngModel&quot;</span>
    <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&quot;{</span>
      <span class="err">&#39;</span><span class="na">is-valid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">touched</span> <span class="err">&amp;&amp;</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">valid</span><span class="err">,</span>
      <span class="err">&#39;</span><span class="na">is-invalid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">descriptionModel</span><span class="err">.</span><span class="na">touched</span> <span class="err">&amp;&amp;</span> <span class="err">!</span><span class="na">descriptionModel</span><span class="err">.</span><span class="na">valid</span>
    <span class="err">}&quot;</span>
  <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&quot;descriptionModel.touched &amp;&amp; descriptionModel.invalid&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-danger&quot;</span><span class="p">&gt;</span>
    Descripción requerida (entre 5 y 60 caracteres)
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="creacion-de-validadores-personalizados">
<h3>Creación de Validadores Personalizados<a class="headerlink" href="#creacion-de-validadores-personalizados" title="Link to this heading">#</a></h3>
<p>Angular permite la creación de validadores personalizados mediante directivas. Estos validadores se registran como validadores de Angular utilizando el proveedor <code class="docutils literal notranslate"><span class="pre">NG_VALIDATORS</span></code>.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Directive</span><span class="p">,</span><span class="w"> </span><span class="nx">Input</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Validator</span><span class="p">,</span><span class="w"> </span><span class="nx">AbstractControl</span><span class="p">,</span><span class="w"> </span><span class="nx">NG_VALIDATORS</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="kd">@Directive</span><span class="p">({</span>
<span class="w">  </span><span class="nx">selector</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;[appMinPrice]&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">providers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">provide</span><span class="o">:</span><span class="w"> </span><span class="kt">NG_VALIDATORS</span><span class="p">,</span><span class="w"> </span><span class="nx">useExisting</span><span class="o">:</span><span class="w"> </span><span class="kt">MinPriceDirective</span><span class="p">,</span><span class="w"> </span><span class="nx">multi</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">}]</span>
<span class="p">})</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">MinPriceDirective</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="nx">Validator</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">@Input</span><span class="p">(</span><span class="s1">&#39;appMinPrice&#39;</span><span class="p">)</span><span class="w"> </span><span class="nx">minPrice</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="w">  </span><span class="nx">validate</span><span class="p">(</span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="kt">AbstractControl</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">minPrice</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">minPrice</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">minPrice</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">};</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="enviar-el-formulario">
<h3>Enviar el Formulario<a class="headerlink" href="#enviar-el-formulario" title="Link to this heading">#</a></h3>
<p>Podemos enviar el formulario y realizar validaciones adicionales antes de enviarlo. Además, podemos desactivar el botón de envío hasta que el formulario sea válido.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="err">#</span><span class="na">productForm</span><span class="o">=</span><span class="s">&quot;ngForm&quot;</span> <span class="err">(</span><span class="na">ngSubmit</span><span class="err">)=&quot;</span><span class="na">editar</span><span class="err">(</span><span class="na">productForm</span><span class="err">)&quot;</span> <span class="na">novalidate</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="err">...</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="err">[</span><span class="na">disabled</span><span class="err">]=&quot;</span><span class="na">productForm</span><span class="err">.</span><span class="na">invalid</span><span class="err">&quot;</span><span class="p">&gt;</span>Submit<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>En el componente, obtenemos el formulario utilizando <code class="docutils literal notranslate"><span class="pre">&#64;ViewChild</span></code> y la variable de referencia:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">@ViewChild</span><span class="p">(</span><span class="s1">&#39;editForm&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">static</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="nx">editForm</span><span class="o">:</span><span class="w"> </span><span class="kt">NgForm</span><span class="p">;</span>

<span class="nx">editar</span><span class="p">(</span><span class="nx">productForm</span><span class="o">:</span><span class="w"> </span><span class="kt">NgForm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">editForm</span><span class="p">.</span><span class="nx">valid</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">productService</span><span class="p">.</span><span class="nx">editProduct</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">product</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span>
<span class="w">      </span><span class="nx">ok</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">([</span><span class="s1">&#39;/product/&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">product</span><span class="p">.</span><span class="nx">id</span><span class="p">])</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="formularios-reactivos">
<h2>Formularios Reactivos<a class="headerlink" href="#formularios-reactivos" title="Link to this heading">#</a></h2>
<p>En Angular, los formularios reactivos representan un conjunto de técnicas que permiten controlar mejor el comportamiento de los formularios desde el código del componente en lugar de desde la plantilla. Aunque el uso de <code class="docutils literal notranslate"><span class="pre">[(ngModel)]</span></code> en formularios basados en plantillas ya proporciona cierto comportamiento reactivo, los formularios reactivos ofrecen una manera más estructurada y potente de manejar formularios complejos. Es recomendable usar formularios reactivos, especialmente en formularios más avanzados que van más allá de simples búsquedas o inicios de sesión.</p>
<p>Para trabajar con formularios reactivos, debemos importar el módulo <code class="docutils literal notranslate"><span class="pre">ReactiveFormsModule</span></code></p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ReactiveFormsModule</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="p">...</span>
<span class="w">  </span><span class="nx">imports</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">ReactiveFormsModule</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// otros módulos</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">...</span>
</pre></div>
</div>
<p>En los formularios reactivos, declaramos directamente en el código los objetos <code class="docutils literal notranslate"><span class="pre">FormControl</span></code>, <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code> y <code class="docutils literal notranslate"><span class="pre">FormArray</span></code>. A continuación, se muestra un ejemplo básico de cómo configurar un formulario reactivo:</p>
<ol class="arabic simple">
<li><p><strong>Definir el Formulario en el Componente</strong></p></li>
</ol>
<p>En el componente, necesitamos una variable de tipo <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code> inicializada en el constructor. Utilizaremos un servicio inyectado llamado <code class="docutils literal notranslate"><span class="pre">FormBuilder</span></code> para construir el formulario.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Component</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FormBuilder</span><span class="p">,</span><span class="w"> </span><span class="nx">FormGroup</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
<span class="w">  </span><span class="nx">selector</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;app-product-form&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">templateUrl</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;./product-form.component.html&#39;</span>
<span class="p">})</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">ProductFormComponent</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">formulario</span><span class="o">:</span><span class="w"> </span><span class="kt">FormGroup</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="k">private</span><span class="w"> </span><span class="nx">formBuilder</span><span class="o">:</span><span class="w"> </span><span class="kt">FormBuilder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">crearFormulario</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">crearFormulario</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="w">      </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">],</span>
<span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">crear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Lógica para crear el producto</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>HTML del Formulario</strong></p></li>
</ol>
<p>En el HTML del formulario, solo necesitamos agregar <code class="docutils literal notranslate"><span class="pre">[formGroup]</span></code> y <code class="docutils literal notranslate"><span class="pre">formControlName</span></code> en cada <code class="docutils literal notranslate"><span class="pre">input</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="err">[</span><span class="na">formGroup</span><span class="err">]=&quot;</span><span class="na">formulario</span><span class="err">&quot;</span> <span class="err">(</span><span class="na">ngSubmit</span><span class="err">)=&quot;</span><span class="na">crear</span><span class="err">()&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;inputName&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputName&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;inputPrice&quot;</span><span class="p">&gt;</span>Price<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputPrice&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;price&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;inputDescription&quot;</span><span class="p">&gt;</span>Description<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputDescription&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;description&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-primary&quot;</span><span class="p">&gt;</span>Submit<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
<section id="validaciones-sincronas">
<h3>Validaciones Síncronas<a class="headerlink" href="#validaciones-sincronas" title="Link to this heading">#</a></h3>
<p>En los formularios reactivos, las validaciones son más sencillas y se pueden declarar directamente en el código del componente usando <code class="docutils literal notranslate"><span class="pre">Validators</span></code>.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Validators</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="nx">crearFormulario</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mf">5</span><span class="p">),</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">pattern</span><span class="p">(</span><span class="s1">&#39;.*[a-zA-Z].*&#39;</span><span class="p">)]],</span>
<span class="w">    </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)],</span>
<span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="nx">get</span><span class="w"> </span><span class="nx">nameNotValid</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">invalid</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">touched</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Para aplicar las validaciones visualmente en el HTML, podemos utilizar getters:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputName&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;name&quot;</span> 
  <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&quot;</span><span class="na">nameNotValid</span> <span class="err">?</span> <span class="err">&#39;</span><span class="na">is-invalid</span><span class="err">&#39;</span> <span class="na">:</span> <span class="err">&#39;</span><span class="na">is-valid</span><span class="err">&#39;&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id1">
<h3>Creación de Validadores Personalizados<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Los validadores personalizados en formularios reactivos son funciones que devuelven una <code class="docutils literal notranslate"><span class="pre">ValidatorFn</span></code>. Aquí mostramos cómo crear un validador personalizado para fechas mínimas:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AbstractControl</span><span class="p">,</span><span class="w"> </span><span class="nx">ValidatorFn</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">minDateValidator</span><span class="p">(</span><span class="nx">minInputDate</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">ValidatorFn</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="kt">AbstractControl</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">minDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nx">minInputDate</span><span class="p">);</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">inputDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">minDate</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">inputDate</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">&#39;minDate&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">minDate</span><span class="p">.</span><span class="nx">toLocaleDateString</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="validacion-de-campos-cruzados">
<h4>Validación de Campos Cruzados<a class="headerlink" href="#validacion-de-campos-cruzados" title="Link to this heading">#</a></h4>
<p>Podemos crear validadores personalizados para evaluar un campo en función de otros campos en el formulario. Aquí un ejemplo para validar que dos campos de contraseña coincidan:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">registerForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">  </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mf">3</span><span class="p">),</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">maxLength</span><span class="p">(</span><span class="mf">10</span><span class="p">)]],</span>
<span class="w">  </span><span class="nx">confirm_password</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mf">3</span><span class="p">),</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">maxLength</span><span class="p">(</span><span class="mf">10</span><span class="p">)]]</span>
<span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">validators</span><span class="o">:</span><span class="w"> </span><span class="kt">passwordValidator</span>
<span class="p">});</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">passwordValidator</span><span class="o">:</span><span class="w"> </span><span class="kt">ValidatorFn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">control</span><span class="o">:</span><span class="w"> </span><span class="kt">AbstractControl</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">ValidationErrors</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">control</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">confirmPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">control</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;confirm_password&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">confirmPassword</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">password</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">confirmPassword</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">passwordValidator</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
</section>
<section id="agrupar-campos">
<h3>Agrupar Campos<a class="headerlink" href="#agrupar-campos" title="Link to this heading">#</a></h3>
<p>Podemos agrupar campos en un <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code> dentro de otro <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">minLength</span><span class="p">(</span><span class="mf">5</span><span class="p">),</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">pattern</span><span class="p">(</span><span class="s1">&#39;.*[a-zA-Z].*&#39;</span><span class="p">)]],</span>
<span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">Validators</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)],</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="kt">this.formBuilder.group</span><span class="p">({</span>
<span class="w">    </span><span class="nx">street</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Y en el HTML:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group row mb-3&quot;</span> <span class="na">formGroupName</span><span class="o">=</span><span class="s">&quot;address&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;inputStreet&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-sm-2 col-form-label&quot;</span><span class="p">&gt;</span>Street<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-row col&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputStreet&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Street&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;street&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;inputCity&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;City&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;city&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="cargar-datos-en-el-formulario">
<h3>Cargar Datos en el Formulario<a class="headerlink" href="#cargar-datos-en-el-formulario" title="Link to this heading">#</a></h3>
<p>Si estamos trabajando en un formulario de edición, podemos cargar los valores en los controles de formulario utilizando <code class="docutils literal notranslate"><span class="pre">setValue()</span></code>, <code class="docutils literal notranslate"><span class="pre">patchValue()</span></code> o <code class="docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">product</span><span class="p">);</span><span class="w">  </span><span class="c1">// Necesita todos los campos</span>

<span class="c1">// Para resetear con valores por defecto</span>
<span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">reset</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Default Name&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Default Description&#39;</span>
<span class="p">});</span>

<span class="c1">// Para actualizar solo algunos campos</span>
<span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">patchValue</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="deteccion-de-cambios">
<h3>Detección de Cambios<a class="headerlink" href="#deteccion-de-cambios" title="Link to this heading">#</a></h3>
<p>Los <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code> y <code class="docutils literal notranslate"><span class="pre">FormControl</span></code> contienen un Observable llamado <code class="docutils literal notranslate"><span class="pre">valueChanges</span></code> que emite el valor actual del control cada vez que cambia. Podemos suscribirnos a este Observable para realizar acciones en respuesta a los cambios.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">AppComponent</span><span class="w"> </span><span class="k">implements</span><span class="w"> </span><span class="nx">OnInit</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">formulario</span><span class="o">:</span><span class="w"> </span><span class="kt">FormGroup</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="k">private</span><span class="w"> </span><span class="nx">formBuilder</span><span class="o">:</span><span class="w"> </span><span class="kt">FormBuilder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="w">  </span><span class="nx">ngOnInit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">      </span><span class="nx">notifications</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="kc">false</span><span class="p">]</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">formulario</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;notifications&#39;</span><span class="p">).</span><span class="nx">valueChanges</span>
<span class="w">      </span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">updateNotificationMethod</span><span class="p">(</span><span class="nx">value</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">updateNotificationMethod</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Lógica para manejar cambios en las notificaciones</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="formularios-dinamicos">
<h3>Formularios Dinámicos<a class="headerlink" href="#formularios-dinamicos" title="Link to this heading">#</a></h3>
<p>Los <code class="docutils literal notranslate"><span class="pre">FormArray</span></code> permiten crear formularios dinámicos donde los controles pueden añadirse o eliminarse en tiempo de ejecución.</p>
<p>Para funcionar necesitamos crear un <code class="docutils literal notranslate"><span class="pre">formArray</span></code> dentro del <code class="docutils literal notranslate"><span class="pre">formGroup</span></code> del formulario. En el ejemplo lo hacemos con <code class="docutils literal notranslate"><span class="pre">formBuilder.array</span></code>. Para generar nuevos <code class="docutils literal notranslate"><span class="pre">formControl</span></code> dentro de ese array, en este caso hemos creado dos funciones <code class="docutils literal notranslate"><span class="pre">getIngredientControl</span></code> y <code class="docutils literal notranslate"> <span class="pre">generateIngredientControl</span></code> que crean un control de forma menos concisa que con los <code class="docutils literal notranslate"><span class="pre">formBuilder</span></code>.</p>
<p>Hemos hecho funciones para crear nuevos controles y borrarlos, así como la función que rellena el formulario y crea tantos controles como elementos tenga el array. Puesto que un <code class="docutils literal notranslate"><span class="pre">formArray</span></code> es un tipo especial de <code class="docutils literal notranslate"><span class="pre">formControl</span></code>, hay que castearlo cuando se obtiene por <code class="docutils literal notranslate"><span class="pre">get</span></code> y tiene funciones útiles como <code class="docutils literal notranslate"><span class="pre">push</span></code> o <code class="docutils literal notranslate"><span class="pre">removeAt</span></code>. Observemos cómo las usamos en el ejemplo.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kd">@Input</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="w"> </span><span class="nx">recipeID?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">mealForm</span><span class="o">:</span><span class="w"> </span><span class="kt">FormGroup</span><span class="p">;</span>

<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="nx">supaService</span><span class="o">:</span><span class="w"> </span><span class="kt">SupabaseService</span><span class="p">,</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="nx">formBuilder</span><span class="o">:</span><span class="w"> </span><span class="kt">FormBuilder</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
<span class="w">      </span><span class="nx">strMeal</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]],</span>
<span class="w">      </span><span class="nx">strInstructions</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]],</span>
<span class="w">      </span><span class="nx">ingredients</span><span class="o">:</span><span class="w"> </span><span class="kt">this.formBuilder.array</span><span class="p">([]),</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w"> </span><span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">recipeID</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// suponiendo que tenemos supabase como backend</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">supaService</span><span class="p">.</span><span class="nx">getMeals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">recipeID</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">({</span>
<span class="w">        </span><span class="nx">next</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">meals</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="p">.</span><span class="nx">reset</span><span class="p">(</span><span class="nx">meals</span><span class="p">[</span><span class="mf">0</span><span class="p">]);</span>
<span class="w">          </span><span class="nx">meals</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">idIngredients</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">i</span><span class="p">=&gt;{</span><span class="w">  </span><span class="c1">// idIngredients es un array de ids</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
<span class="w">              </span><span class="p">(</span><span class="o">&lt;</span><span class="nx">FormArray</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;ingredients&#39;</span><span class="p">)).</span><span class="nx">push</span><span class="p">(</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="nx">generateIngredientControl</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="w">             </span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">      </span>
<span class="w">          </span><span class="p">})</span>
<span class="w">     </span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">),</span>
<span class="w">        </span><span class="nx">complete</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Received&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">getIngredientControl</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nx">FormControl</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">control</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">control</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="nx">control</span><span class="p">.</span><span class="nx">setValidators</span><span class="p">(</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">control</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">generateIngredientControl</span><span class="p">(</span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">FormControl</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">control</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">formBuilder</span><span class="p">.</span><span class="nx">control</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="w">    </span><span class="nx">control</span><span class="p">.</span><span class="nx">setValidators</span><span class="p">(</span><span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">control</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">get</span><span class="w"> </span><span class="nx">IngredientsArray</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nx">FormArray</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">FormArray</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;ingredients&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">addIngredient</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">(</span><span class="o">&lt;</span><span class="nx">FormArray</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;ingredients&#39;</span><span class="p">)).</span><span class="nx">push</span><span class="p">(</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">getIngredientControl</span><span class="p">()</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">delIngredient</span><span class="p">(</span><span class="nx">i</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
<span class="w">    </span><span class="p">(</span><span class="o">&lt;</span><span class="nx">FormArray</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">mealForm</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;ingredients&#39;</span><span class="p">)).</span><span class="nx">removeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>Y en el HTML hay que crear un contenedor con el atributo <code class="docutils literal notranslate"><span class="pre">formArrayName</span></code> en el que podemos hacer un <code class="docutils literal notranslate"><span class="pre">&#64;for</span></code> para recorrer el <code class="docutils literal notranslate"><span class="pre">formArray</span></code> obtenido por el <code class="docutils literal notranslate"><span class="pre">getter</span></code> creado anteriormente. Este tiene un interable <code class="docutils literal notranslate"><span class="pre">.controls</span></code> que contiene la información del control. El input debe tener <code class="docutils literal notranslate"><span class="pre">formControName</span></code> al índice del <code class="docutils literal notranslate"><span class="pre">&#64;for</span></code>.</p>
<p>En el ejemplo tenemos botones para añadir o borrar elementos del <code class="docutils literal notranslate"><span class="pre">formArray</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">formArrayName</span><span class="o">=</span><span class="s">&quot;ingredients&quot;</span><span class="p">&gt;</span>
      @for (ingredient of IngredientsArray.controls; track $index) {
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input-group mb-3&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span>
          <span class="na">id</span><span class="o">=</span><span class="s">&quot;ingredient{{ $index }}&quot;</span>
          <span class="na">name</span><span class="o">=</span><span class="s">&quot;ingredient{{ $index }}&quot;</span>
          <span class="err">[</span><span class="na">formControlName</span><span class="err">]=&quot;$</span><span class="na">index</span><span class="err">&quot;</span>
          <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;ingredient&quot;</span>
          <span class="err">[</span><span class="na">ngClass</span><span class="err">]=&quot;{</span>
            <span class="err">&#39;</span><span class="na">is-valid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">ingredient</span><span class="err">.</span><span class="na">valid</span> <span class="err">&amp;&amp;</span> <span class="na">ingredient</span><span class="err">.</span><span class="na">touched</span><span class="err">,</span>
            <span class="err">&#39;</span><span class="na">is-invalid</span><span class="err">&#39;</span><span class="na">:</span> <span class="na">ingredient</span><span class="err">.</span><span class="na">invalid</span> <span class="err">&amp;&amp;</span> <span class="na">ingredient</span><span class="err">.</span><span class="na">touched</span>
          <span class="err">}&quot;</span>
        <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-danger&quot;</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">delIngredient</span><span class="err">($</span><span class="na">index</span><span class="err">)&quot;</span><span class="p">&gt;</span>
          Borrar
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">addIngredient</span><span class="err">()&quot;</span><span class="p">&gt;</span>
        Añadir ingrediente
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="signal-forms">
<h2>Signal Forms<a class="headerlink" href="#signal-forms" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Reactividad Atómica:</strong> A diferencia de los Formularios Reactivos, donde tienes que suscribirte a <code class="docutils literal notranslate"><span class="pre">valueChanges</span></code> (que es un Observable), en los Signal Forms accedes al valor simplemente llamando a la Signal. Esto elimina la necesidad de gestionar suscripciones y el riesgo de fugas de memoria (<em>memory leaks</em>).</p></li>
<li><p><strong>Validación con <code class="docutils literal notranslate"><span class="pre">computed</span></code>:</strong> En lugar de validadores complejos que se disparan en cada ciclo de detección, las validaciones pueden ser Signals derivadas (<code class="docutils literal notranslate"><span class="pre">computed</span></code>). Esto significa que la validación solo se vuelve a calcular si el valor del campo específico cambia.</p></li>
<li><p><strong>Adiós a Zone.js:</strong> Es la mayor ventaja competitiva. Mientras que los formularios tradicionales fuerzan a Angular a revisar todo el componente para ver si algo cambió, los Signal Forms informan exactamente qué campo debe actualizarse en el DOM.</p></li>
<li><p><strong>Tipado fuerte (Type Safety):</strong> Los Signal Forms están diseñados desde cero para ser totalmente compatibles con TypeScript, evitando los problemas de tipos <code class="docutils literal notranslate"><span class="pre">any</span></code> o <code class="docutils literal notranslate"><span class="pre">unknown</span></code> que históricamente plagaron a los formularios de Angular.</p></li>
</ol>
<blockquote>
<div><p><strong>Nota de contexto:</strong> En las versiones más recientes de Angular, se está trabajando en una API oficial para integrar Signals profundamente en los formularios. Actualmente, muchos desarrolladores ya están usando patrones de “Signal-like state” o librerías de la comunidad que siguen este estándar para adelantarse al futuro del framework.</p>
</div></blockquote>
<section id="crear-un-formulario-con-signal">
<h3>Crear un formulario con signal()<a class="headerlink" href="#crear-un-formulario-con-signal" title="Link to this heading">#</a></h3>
<p>Todo formulario empieza con un modelo de datos:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nx">LoginData</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">  </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">loginModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">signal</span><span class="o">&lt;</span><span class="nx">LoginData</span><span class="o">&gt;</span><span class="p">({</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Estos datos pueden ser inicializados en este momento o actualizado después.</p>
<p>Se usa la función <code class="docutils literal notranslate"><span class="pre">form()</span></code> para crear un <code class="docutils literal notranslate"><span class="pre">FieldTree</span></code>. Esto es una estructura de datos adecuada para acceder a los datos:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">loginForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="nx">loginModel</span><span class="p">);</span>
<span class="c1">// Access fields directly by property name</span>
<span class="nx">loginForm</span><span class="p">.</span><span class="nx">email</span><span class="p">;</span>
<span class="nx">loginForm</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
</pre></div>
</div>
<p>En el formulario HTML se vincula mediante <code class="docutils literal notranslate"><span class="pre">[field]</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;email&quot;</span><span class="w"> </span><span class="p">[</span><span class="nx">field</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;loginForm.email&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s2">&quot;password&quot;</span><span class="w"> </span><span class="p">[</span><span class="nx">field</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;loginForm.password&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Ahora se pueden leer los datos del formulario llamando como función a los fields. Esto retorna un <code class="docutils literal notranslate"><span class="pre">FieldState</span></code> que tiene información sobre el estado no solo del value, sino del input:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="nx">loginForm</span><span class="p">.</span><span class="nx">email</span><span class="p">();</span><span class="w"> </span><span class="c1">// Returns FieldState with value(), valid(), touched(), etc.</span>
<span class="c1">// Get the current value</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">currentEmail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">loginForm</span><span class="p">.</span><span class="nx">email</span><span class="p">().</span><span class="nx">value</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- Render form value that updates automatically as user types --&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Email: {{ loginForm.email().value() }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Al ser <code class="docutils literal notranslate"><span class="pre">signals</span></code>, se puede hacer <code class="docutils literal notranslate"><span class="pre">set()</span></code> tanto a fields individuales como a todo el form:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Update the value programmatically</span>
<span class="nx">loginForm</span><span class="p">.</span><span class="nx">email</span><span class="p">().</span><span class="nx">value</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;alice@wonderland.com&#39;</span><span class="p">);</span>

<span class="k">this</span><span class="p">.</span><span class="nx">userModel</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;alice@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="kt">30</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>En todo momento se tiene acceso al modelo y al formulario, los cuales están sincronizados reactivamente. Además se puede convertir a <code class="docutils literal notranslate"><span class="pre">formData</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">formData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">loginModel</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="validar-formularios-con-signal">
<h3>Validar formularios con signal()<a class="headerlink" href="#validar-formularios-con-signal" title="Link to this heading">#</a></h3>
<p>A la función <code class="docutils literal notranslate"><span class="pre">form()</span></code> se le puede añadir un función de <code class="docutils literal notranslate"><span class="pre">schema</span></code>, la cual acepta validadores:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">loginForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="nx">loginModel</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">);</span>
<span class="w">  </span><span class="nx">required</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Email is required&#39;</span><span class="p">});</span>
<span class="w">  </span><span class="nx">email</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Please enter a valid email address&#39;</span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Validadores:</p>
<ul class="simple">
<li><p>required() - Ensures the field has a value</p></li>
<li><p>email() - Validates email format</p></li>
<li><p>min() / max() - Validates number ranges</p></li>
<li><p>minLength() / maxLength() - Validates string or collection length</p></li>
<li><p>pattern() - Validates against a regex pattern</p></li>
</ul>
<p>Hay otras funciones:</p>
<ul class="simple">
<li><p>disabled() que evalua si debe estar deshabilitado</p></li>
<li><p>hidden() si debe ser ocultado</p></li>
<li><p>readonly()</p></li>
</ul>
<p>Puesto que cada field expone su estado de validació, este puede ser usado:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
      Email:
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="err">[</span><span class="na">field</span><span class="err">]=&quot;</span><span class="na">loginForm</span><span class="err">.</span><span class="na">email</span><span class="err">&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    @if (loginForm.email().touched() <span class="err">&amp;&amp;</span> loginForm.email().invalid()) {
      <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;error-list&quot;</span><span class="p">&gt;</span>
        @for (error of loginForm.email().errors(); track error) {
          <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ error.message }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        }
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    }
</pre></div>
</div>
<p>El estado puede ser:</p>
<ul class="simple">
<li><p>valid() 	Returns true if the field passes all validation rules</p></li>
<li><p>touched() 	Returns true if the user has focused and blurred the field</p></li>
<li><p>dirty() 	Returns true if the user has changed the value</p></li>
<li><p>disabled() 	Returns true if the field is disabled</p></li>
<li><p>readonly() 	Returns true if the field is readonly</p></li>
<li><p>pending() 	Returns true if async validation is in progress</p></li>
<li><p>errors() 	Returns an array of validation errors with kind and message properties</p></li>
</ul>
</section>
<section id="modelos-avanzados">
<h3>Modelos avanzados<a class="headerlink" href="#modelos-avanzados" title="Link to this heading">#</a></h3>
<p>Se pueden tener <code class="docutils literal notranslate"><span class="pre">nested</span> <span class="pre">models</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Nested structure</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">userModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">signal</span><span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">address</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">street</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">zip</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Esto permite sobretodo validar grupos como una unidad o adaptarlo a la estructura que viene de la API.</p>
<p>También se pueden tener arrays:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">orderModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">signal</span><span class="p">({</span>
<span class="w">  </span><span class="nx">customerName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="nx">product</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">}],</span>
<span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">orderForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="nx">orderModel</span><span class="p">);</span>
<span class="c1">// Access array items by index</span>
<span class="nx">orderForm</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">product</span><span class="p">;</span><span class="w"> </span><span class="c1">// FieldTree&lt;string&gt;</span>
<span class="nx">orderForm</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">quantity</span><span class="p">;</span><span class="w"> </span><span class="c1">// FieldTree&lt;number&gt;</span>
</pre></div>
</div>
<p>Lo cual permite tener formularios dinámicos con colecciones de datos.</p>
</section>
<section id="validadores-personalizados">
<h3>Validadores personalizados<a class="headerlink" href="#validadores-personalizados" title="Link to this heading">#</a></h3>
<p>Dentro de la función <code class="docutils literal notranslate"><span class="pre">schemaPath</span></code> se puede poner la función <code class="docutils literal notranslate"><span class="pre">validate()</span></code>:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nx">urlModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">signal</span><span class="p">({</span><span class="w"> </span><span class="nx">website</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="nx">urlForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">urlModel</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">validate</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">website</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="nx">value</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">value</span><span class="p">().</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;https://&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;URL must start with https://&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">})</span>
</pre></div>
</div>
<p>Veamos la función de validación, esta recibe un objeto del tipo <code class="docutils literal notranslate"><span class="pre">FieldContext</span></code> que tiene:</p>
<ul class="simple">
<li><p>value 	Signal 	Signal containing the current field value</p></li>
<li><p>state 	FieldState 	The field state reference</p></li>
<li><p>field 	FieldTree 	The field tree reference</p></li>
<li><p>valueOf() 	Method 	Get the value of another field by path</p></li>
<li><p>stateOf() 	Method 	Get the state of another field by path</p></li>
<li><p>fieldTreeOf() 	Method 	Get the field tree of another field by path</p></li>
<li><p>pathKeys 	Signal 	Path keys from root to current field</p></li>
</ul>
<p>Esta función del ejemplo era anónima. Si quisieramos hacerla más genérica para reutilizarla la podemos declarar con nombre antes y usar sin problemas:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">url</span><span class="p">(</span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">validate</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="nx">value</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">value</span><span class="p">());</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;url&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">options?.message</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;Enter a valid URL&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">phoneNumber</span><span class="p">(</span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="o">?:</span><span class="w"> </span><span class="p">{</span><span class="nx">message?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">validate</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="nx">value</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">phoneRegex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">/^\d{3}-\d{3}-\d{4}$/</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">phoneRegex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">value</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;phoneNumber&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">options?.message</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;Phone must be in format: 555-123-4567&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>


<span class="nx">urlForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">urlModel</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">url</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">website</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Please enter a valid website URL&#39;</span><span class="p">});</span>
<span class="w">  </span><span class="nx">phoneNumber</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">phone</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<section id="cross-form-validation">
<h4>Cross Form validation<a class="headerlink" href="#cross-form-validation" title="Link to this heading">#</a></h4>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nx">passwordModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">signal</span><span class="p">({</span>
<span class="w">    </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">confirmPassword</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">  </span><span class="nx">passwordForm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">form</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">passwordModel</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">required</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Password is required&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="nx">minLength</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Password must be at least 8 characters&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="nx">required</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">confirmPassword</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Please confirm your password&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="nx">validate</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">confirmPassword</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">valueOf</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">confirmPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="p">()</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">valueOf</span><span class="p">(</span><span class="nx">schemaPath</span><span class="p">.</span><span class="nx">password</span><span class="p">)</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">confirmPassword</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">password</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">kind</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;passwordMismatch&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Passwords do not match&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">})</span>
</pre></div>
</div>
<p><a class="reference external" href="https://angular.dev/guide/forms/signals/overview">https://angular.dev/guide/forms/signals/overview</a></p>
</section>
</section>
</section>
<section id="ficheros-en-formularios">
<h2>Ficheros en Formularios<a class="headerlink" href="#ficheros-en-formularios" title="Link to this heading">#</a></h2>
<p>Si ponemos un input de tipo <code class="docutils literal notranslate"><span class="pre">file</span></code>, lo podemos tratar como en el ejemplo:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="nx">selectedFile</span><span class="o">:</span><span class="w"> </span><span class="kt">File</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="nx">onFileSelected</span><span class="p">(</span><span class="nx">event</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">selectedFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>

<span class="nx">onSubmit</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selectedFile</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">nombre</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">uploadService</span><span class="p">.</span><span class="nx">uploadForm</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selectedFile</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">nombre</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">email</span><span class="p">).</span><span class="nx">subscribe</span><span class="p">({</span>
<span class="w">        </span><span class="nx">next</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Subida exitosa:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">response</span><span class="p">),</span>
<span class="w">        </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error al subir:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">)</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Todos los campos son obligatorios&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>Siendo onFileSelected y onSubmit los manejadores de los eventos <code class="docutils literal notranslate"><span class="pre">&lt;form</span> <span class="pre">(submit)=&quot;onSubmit()&quot;&gt;</span></code> y <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;file&quot;</span> <span class="pre">(change)=&quot;onFileSelected($event)&quot;</span> <span class="pre">required</span> <span class="pre">/&gt;</span></code></p>
<blockquote>
<div><p>Cuando hay ficheros, no importa que se trate de formularios reactivos o de plantilla, ya que los <code class="docutils literal notranslate"><span class="pre">FormControl</span></code> no manejar ficheros. Hay que atender al evento de subida del fichero y tratarlo por separado del <code class="docutils literal notranslate"><span class="pre">FormGroup</span></code>.</p>
</div></blockquote>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="rutasangular.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Rutas en Angular</p>
      </div>
    </a>
    <a class="right-next"
       href="proyectoangular.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Proyecto Angular</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-de-plantilla-en-angular">Formularios de Plantilla en Angular</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuracion-de-formularios-basados-en-plantillas">Configuración de Formularios Basados en Plantillas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uso-de-ngmodel-y-validadores-html5">Uso de ngModel y Validadores HTML5</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modificar-estilos-al-validar">Modificar Estilos al Validar</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#manipular-la-entrada-del-usuario-en-tiempo-real">Manipular la Entrada del Usuario en Tiempo Real</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ngform-y-directiva-novalidate">ngForm y Directiva noValidate</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mostrar-los-errores-de-validacion">Mostrar los Errores de Validación</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creacion-de-validadores-personalizados">Creación de Validadores Personalizados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enviar-el-formulario">Enviar el Formulario</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-reactivos">Formularios Reactivos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validaciones-sincronas">Validaciones Síncronas</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Creación de Validadores Personalizados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#validacion-de-campos-cruzados">Validación de Campos Cruzados</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#agrupar-campos">Agrupar Campos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cargar-datos-en-el-formulario">Cargar Datos en el Formulario</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-cambios">Detección de Cambios</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formularios-dinamicos">Formularios Dinámicos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#signal-forms">Signal Forms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crear-un-formulario-con-signal">Crear un formulario con signal()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validar-formularios-con-signal">Validar formularios con signal()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos-avanzados">Modelos avanzados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validadores-personalizados">Validadores personalizados</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-form-validation">Cross Form validation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ficheros-en-formularios">Ficheros en Formularios</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jose Castillo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>